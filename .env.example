# =============================================================================
# Metrics Engine Data-Plane Worker - Environment Variables
# =============================================================================
# Copy this file to .env and fill in your actual values
# cp .env.example .env

# -----------------------------------------------------------------------------
# AWS Configuration (REQUIRED)
# -----------------------------------------------------------------------------

# AWS Region
AWS_REGION=us-east-1

# S3 Bucket for datasets and metrics output (REQUIRED)
AWS_S3_BUCKET=your-bucket-name

# SQS Queue URL for metric run requests (REQUIRED)
# Format: https://sqs.{region}.amazonaws.com/{account-id}/{queue-name}.fifo
AWS_SQS_RUN_REQUEST_QUEUE_URL=https://sqs.us-east-1.amazonaws.com/123456789012/metric-run-request.fifo

# Enable/disable SQS queue consumption
AWS_SQS_RUN_REQUEST_QUEUE_ENABLED=true

# -----------------------------------------------------------------------------
# SNS Topics for Publishing Events to Control Plane (ALL REQUIRED)
# -----------------------------------------------------------------------------
# The Control Plane consumes from SQS queues subscribed to these SNS topics

# SNS Topic for metric_run_started events (REQUIRED)
AWS_SNS_METRIC_RUN_STARTED_TOPIC_ARN=arn:aws:sns:us-east-1:123456789012:metric-run-started.fifo

# SNS Topic for metric_run_heartbeat events (REQUIRED)
AWS_SNS_METRIC_RUN_HEARTBEAT_TOPIC_ARN=arn:aws:sns:us-east-1:123456789012:metric-run-heartbeat.fifo

# SNS Topic for metric_run_completed events (REQUIRED)
AWS_SNS_METRIC_RUN_COMPLETED_TOPIC_ARN=arn:aws:sns:us-east-1:123456789012:metric-run-completed.fifo

# -----------------------------------------------------------------------------
# Worker Configuration (OPTIONAL - defaults shown)
# -----------------------------------------------------------------------------

# Heartbeat interval in seconds
WORKER_HEARTBEAT_INTERVAL_SECONDS=30

# Output Parquet compression (snappy, zstd, gzip, etc.)
OUTPUT_COMPRESSION=snappy

# Prometheus metrics server port
PROMETHEUS_PORT=9300

# -----------------------------------------------------------------------------
# AWS Credentials
# -----------------------------------------------------------------------------
# These are typically set via:
# - AWS credentials file (~/.aws/credentials)
# - IAM role (when running on EC2/ECS/Lambda)
# - Environment variables (AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY)
# - AWS SSO
#
# Uncomment and set if needed:
# AWS_ACCESS_KEY_ID=your-access-key-id
# AWS_SECRET_ACCESS_KEY=your-secret-access-key
# AWS_SESSION_TOKEN=your-session-token  # For temporary credentials
